@tailwind base;
@tailwind components;
@tailwind utilities;

/* Architectural CSS Custom Properties */
@layer base {
  :root {
    /* Responsive Root Font Size - Perfect Scaling Foundation */
    font-size: 100%; /* Mobile: Respects user preference (usually 16px) */

    /* Brutalist Color System - Light Mode Architecture */
    --background: 0 0% 97%; /* updated off-white */
    --foreground: 0 0% 8%; /* updated off-black */
    --muted: 0 0% 94%; /* updated muted */
    --muted-foreground: 0 0% 40%; /* updated muted-foreground */
    --border: 0 0% 88%; /* updated border */
    --input: 0 0% 97%; /* matches background */
    --ring: 0 0% 15%; /* matches accent */
    --primary: 0 0% 15%; /* updated to accent value */
    --primary-foreground: 0 0% 97%; /* matches background */
    --secondary: 0 0% 94%; /* matches muted */
    --secondary-foreground: 0 0% 8%; /* matches foreground */
    --subtle: 0 0% 92%; /* new subtle token */

    /* Architectural spacing variables */
    --radius: 0.5rem; /* 8px base radius */
    --section-spacing: 6rem; /* 96px systematic spacing */
    --component-spacing: 2rem; /* 32px component separation */
    --nav-h: 72px; /* Navigation height for anchor offset (4.5rem) */

    /* Typography architectural variables */
    --font-feature-settings: 'cv01', 'cv02', 'cv03', 'cv04', 'cv05', 'cv06',
      'cv09', 'cv10', 'cv11';
  }

  /* Advanced Responsive Root Font Size - Multi-Screen Optimization */

  /* Standard Mobile (iPhone SE, iPhone 14 Pro, etc.) */
  @media (min-width: 24rem) {
    /* 384px */
    :root {
      font-size: 103.125%; /* 16.5px equivalent - Standard phones optimization */
    }
  }

  /* Large Mobile/Phablet (iPhone 14 Pro Max, etc.) */
  @media (min-width: 26.75rem) {
    /* 428px */
    :root {
      font-size: 106.25%; /* 17px equivalent - Larger phones need bigger text */
    }
  }

  /* Mobile Landscape/Small Tablet */
  @media (min-width: 36rem) {
    /* 576px */
    :root {
      font-size: 112.5%; /* 18px equivalent - Landscape reading optimization */
    }
  }

  /* Tablet Portrait */
  @media (min-width: 48rem) {
    /* 768px */
    :root {
      font-size: 118.75%; /* 19px equivalent - Tablet-specific readability */
    }
  }

  /* Desktop/Laptop */
  @media (min-width: 64rem) {
    /* 1024px */
    :root {
      font-size: 125%; /* 20px equivalent - Desktop optimization */
    }
  }

  /* Large Desktop */
  @media (min-width: 90rem) {
    /* 1440px */
    :root {
      font-size: 131.25%; /* 21px equivalent - Large screen readability */
    }
  }

  /* 4K/Ultra-wide */
  @media (min-width: 160rem) {
    /* 2560px */
    :root {
      font-size: 137.5%; /* 22px equivalent - Maximum readability */
    }
  }

  [data-theme='dark'] {
    /* Dark Mode Architectural Inversion */
    --background: 0 0% 8%; /* dark background */
    --foreground: 0 0% 97%; /* light foreground */
    --muted: 0 0% 15%; /* dark muted */
    --muted-foreground: 0 0% 60%; /* light muted-foreground */
    --border: 0 0% 15%; /* dark border */
    --input: 0 0% 12%; /* dark input */
    --ring: 0 0% 85%; /* light ring */
    --primary: 0 0% 85%; /* light primary */
    --primary-foreground: 0 0% 8%; /* dark text on light */
    --secondary: 0 0% 15%; /* dark secondary */
    --secondary-foreground: 0 0% 97%; /* light text */
    --subtle: 0 0% 12%; /* dark subtle token */
  }

  .dark {
    /* Legacy dark mode support */
    --background: 0 0% 8%; /* dark background */
    --foreground: 0 0% 97%; /* light foreground */
    --muted: 0 0% 15%; /* dark muted */
    --muted-foreground: 0 0% 60%; /* light muted-foreground */
    --border: 0 0% 15%; /* dark border */
    --input: 0 0% 12%; /* dark input */
    --ring: 0 0% 85%; /* light ring */
    --primary: 0 0% 85%; /* light primary */
    --primary-foreground: 0 0% 8%; /* dark text on light */
    --secondary: 0 0% 15%; /* dark secondary */
    --secondary-foreground: 0 0% 97%; /* light text */
    --subtle: 0 0% 12%; /* dark subtle token */
  }
}

/* Base architectural styles */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    /* Inter font architectural features */
    font-feature-settings: var(--font-feature-settings);
  }

  /* Texture Background */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
      radial-gradient(circle at 25% 25%, hsl(var(--subtle)) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, hsl(var(--subtle)) 0%, transparent 50%);
    opacity: 0.3;
    z-index: -1;
    pointer-events: none;
  }

  /* Architectural typography hierarchy */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display tracking-tight;
  }

  /* Mathematical line height system */
  .text-mega {
    line-height: 0.9;
  }
  .text-hero {
    line-height: 1.1;
  }
  .text-display {
    line-height: 1.2;
  }

  /* Anchor scrolling configuration for fixed header */
  [id] {
    scroll-margin-top: var(--nav-h);
  }

  /* Smooth scrolling behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Accessibility enhancements */
  :focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
  }

  /* Skip link for accessibility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .sr-only.focus:not(.sr-only) {
    position: fixed;
    top: 2px;
    left: 2px;
    background: hsl(var(--foreground));
    color: hsl(var(--background));
    padding: 12px 16px;
    border-radius: 4px;
    z-index: 50;
  }


  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation: none !important;
      transition: none !important;
      scroll-behavior: auto !important;
    }
  }
}

/* Architectural component styles */
@layer components {
  /* Grid-based section architecture - Optimized for all screen sizes */
  .architectural-container {
    @apply container;
    /* Uses optimized container system with built-in responsive padding */
  }

  .architectural-section {
    @apply py-3xl;
    /* Perfect Fifth spacing - Scales harmoniously with font size */
    max-width: 72rem; /* Optimal reading width - 1152px at 16px, scales proportionally */
    margin: 0 auto;
    /* No additional padding - relies on container system for responsive spacing */
  }

  /* Enhanced section padding removed - container system handles all responsive spacing */

  /* Z-pattern layout implementation */
  .z-pattern-hero {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[60vh];
  }

  .z-pattern-content {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6 items-start;
  }

  /* Note: Button styles moved to component-based system in components/ui/button.tsx */

  /* Mathematical spacing utilities */
  .space-architectural > * + * {
    margin-top: var(--component-spacing);
  }

  /* Performance-optimized animation */
  .fade-in {
    animation: fadeIn 0.3s ease-out forwards;
  }
}

/* Architectural utilities */
@layer utilities {
  /* Hide scrollbar while maintaining functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Mathematical precision utilities */
  .aspect-golden {
    aspect-ratio: 1.618;
  }

  .aspect-silver {
    aspect-ratio: 1.414;
  }

  /* Architectural focus visible utilities */
  .focus-architectural {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary;
    @apply focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }

  .font-inter {
    font-family: var(--font-inter), system-ui, sans-serif;
  }

  .font-lexend {
    font-family: var(--font-lexend), system-ui, sans-serif;
  }
}
